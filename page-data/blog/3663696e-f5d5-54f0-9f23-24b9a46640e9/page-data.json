{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/3663696e-f5d5-54f0-9f23-24b9a46640e9/","result":{"data":{"site":{"siteMetadata":{"title":"KSoonYo Blog"}},"notionPage":{"title":"[Web Frontend] lock 파일이란 무엇인가?","contentHtml":"<h1><span>TL;DR;</span></h1><ul><li><span>프로젝트에서 사용되는 자바스크립트 패키지들의 버전과 의존성을 명시한 파일</span></li><li><span>협업을 할 때, 프로젝트의 패키지 버전의 충돌을 방지하고 일관성 있게 적용하기 위해 필요함</span></li><li><span>yarn 패키지 매니저 - </span><code><span>yarn.lock</span></code><span> </span></li><li><span>npm 패키지 매니저 - </span><code><span>package-lock.json</span></code></li></ul><p></p><h1><span>lock 파일(패키지 잠금 파일)이란?</span></h1><ul><li><span>프로젝트에 사용되는 모든 패키지의 버전과 의존성을 명시한 파일</span></li><li><span>npm - </span><code><span>package-lock.json</span></code></li><li><span>yarn - </span><code><span>yarn.lock</span></code></li></ul><h1><span>lock 파일의 의의</span></h1><ul><li><span>하나의 프로젝트를 여러 사람이 함께 작업할 때, 패키지의 버전을 일관성 있게 유지하기 위해 필요함</span></li><li><strong><span>기본적으로 package.json에 등록되어 있는 패키지를 설치하면, 패키지 매니저는 Semver 규칙에 따라 패키지 버전 범위 이내에 설치할 패키지 버전을 결정한다.</span></strong></li><li><span>예를 들어, A는 </span><code><span>a-pack@v1.3.2</span></code><span> 를, 이후에 입사한 B는 </span><code><span>a-pack@v1.4.0</span></code><span> 을 설치하여 사용한다면 패키지 버전이 서로 달라 이슈 대응이 어려워짐</span></li><li><span>lock 파일은 이러한 문제를 해결하는 데 도움이 된다.</span></li><li><span>추가적으로 무조건적인 패키지 업데이트를 방지함으로써 최신 패키지 버전에 내재된 보안 위험을 방지하는 효과도 있다.</span></li></ul><p></p><h2><span>exmaple) yarn.lock(Yarn 2+): React 설치</span></h2><p><a href=\"https://yarnpkg.com/blog/release/2.0#new-lockfile-format\"><span>https://yarnpkg.com/blog/release/2.0#new-lockfile-format</span></a></p><pre class=\"language-plain text\"><code class=\"language-plain text\"><span>\"react@npm:^18.2.0\":\n  version: 18.2.0\n  resolution: \"react@npm:18.2.0\"\n  dependencies:\n    loose-envify: ^1.1.0\n  checksum: 88e38092da8839b830cda6feef2e8505dec8ace60579e46aa5490fc3dc9bba0bd50336507dc166f43e3afc1c42939c09fe33b25fae889d6f402721dcd78fca1b\n  languageName: node\n  linkType: hard\n</span></code></pre><ul><li><strong><span>Yarn v1과 비교했을 때, 새로운 format으로 변경되었음을 확인할 수 있다.</span></strong></li><li><strong><span>Yarn v1 예시</span></strong><p><a href=\"https://classic.yarnpkg.com/lang/en/docs/yarn-lock/\"><span>https://classic.yarnpkg.com/lang/en/docs/yarn-lock/</span></a></p><pre class=\"language-plain text\"><code class=\"language-plain text\"><span># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n# yarn lockfile v1\n\n\n\"js-tokens@^3.0.0 || ^4.0.0\":\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/js-tokens/-/js-tokens-4.0.0.tgz#19203fb59991df98e3a287050d4647cdeaf32499\"\n  integrity sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\n\nloose-envify@^1.1.0:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/loose-envify/-/loose-envify-1.4.0.tgz#71ee51fa7be4caec1a63839f7e682d8132d30caf\"\n  integrity sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\n  dependencies:\n    js-tokens \"^3.0.0 || ^4.0.0\"\n\nreact@^18.3.1:\n  version \"18.3.1\"\n  resolved \"https://registry.yarnpkg.com/react/-/react-18.3.1.tgz#49ab892009c53933625bd16b2533fc754cab2891\"\n  integrity sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\n  dependencies:\n    loose-envify \"^1.1.0\"\n</span></code></pre></li></ul><p></p><h2><span>example) package-lock.json: React 설치</span></h2><p><a href=\"https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json\"><span>https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json</span></a></p><pre class=\"language-json\"><code class=\"language-json\"><span data-right-bracket=\"true\">{\n  \"name\": \"package-lock\",\n  \"lockfileVersion\": 2,\n  \"requires\": true,\n  \"packages\": {\n    \"\": {\n      \"dependencies\": {\n        \"react\": \"^18.3.1\"\n      }\n    },\n    \"node_modules/js-tokens\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz\",\n      \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\"\n    },\n    \"node_modules/loose-envify\": {\n      \"version\": \"1.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz\",\n      \"integrity\": \"sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\",\n      \"dependencies\": {\n        \"js-tokens\": \"^3.0.0 || ^4.0.0\"\n      },\n      \"bin\": {\n        \"loose-envify\": \"cli.js\"\n      }\n    },\n    \"node_modules/react\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react/-/react-18.3.1.tgz\",\n      \"integrity\": \"sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\",\n      \"dependencies\": {\n        \"loose-envify\": \"^1.1.0\"\n      },\n      \"engines\": {\n        \"node\": \"=0.10.0\"\n      }\n    }\n  },\n  \"dependencies\": {\n    \"js-tokens\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz\",\n      \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\"\n    },\n    \"loose-envify\": {\n      \"version\": \"1.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz\",\n      \"integrity\": \"sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\",\n      \"requires\": {\n        \"js-tokens\": \"^3.0.0 || ^4.0.0\"\n      }\n    },\n    \"react\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react/-/react-18.3.1.tgz\",\n      \"integrity\": \"sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\",\n      \"requires\": {\n        \"loose-envify\": \"^1.1.0\"\n      }\n    }\n  }\n}\n</span></code></pre><h3><strong><span>주요 요소 설명</span></strong></h3><ul><li><code><strong><span>name</span></strong></code><strong><span>: 프로젝트의 이름.</span></strong></li><li><code><strong><span>version</span></strong></code><strong><span>: 프로젝트의 버전.</span></strong></li><li><code><strong><span>lockfileVersion</span></strong></code><strong><span>: </span></strong><code><strong><span>package-lock.json</span></strong></code><strong><span>의 버전.</span></strong></li><li><code><strong><span>requires</span></strong></code><strong><span>: 의존성이 필요한지 여부.</span></strong></li><li><code><strong><span>packages</span></strong></code><span>: package-lock.json version 2 </span><ul><li><span>npm 6에서 7로 업데이트 되면서 새로 만들어진 패키지 의존성 트리 표현 필드</span></li><li><strong><span>package-lock.json version 2부터 사용됨</span></strong></li></ul></li><li><code><strong><span>dependencies</span></strong></code><strong><span>: 설치된 패키지와 그 의존성의 상세 정보.(legacy)</span></strong><ul><li><span>npm 6까지 사용되던 패키지 의존성 트리 표현 필드</span></li><li><strong><span>package-lock.json version 1에서 사용됨</span></strong></li><li><code><strong><span>version</span></strong></code><strong><span>: 패키지 버전.</span></strong></li><li><code><strong><span>resolved</span></strong></code><strong><span>: 패키지가 다운로드된 URL.</span></strong></li><li><code><strong><span>integrity</span></strong></code><strong><span>: 패키지의 무결성을 확인하기 위한 해시.</span></strong></li><li><code><strong><span>dependencies</span></strong></code><strong><span>: 해당 패키지가 의존하는 다른 패키지들.</span></strong></li></ul></li></ul><p></p><p></p><h1><span>참고)</span></h1><p><a href=\"https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json\">package-lock.json | npm Docs</a></p><p><a href=\"https://classic.yarnpkg.com/lang/en/docs/yarn-lock/\">Yarn</a></p><p><a href=\"https://umanking.github.io/2022/05/05/yarn-lock/\">yarn.lock 파일(잠금파일)은 무엇이고 어떤 기능을 하는가?</a></p><p><a href=\"https://it-eldorado.tistory.com/187\">[JavaScript] package-lock.json 파헤치기 (npm 7 ~)</a></p><p><a href=\"https://www.arahansen.com/the-ultimate-guide-to-yarn-lock-lockfiles/\">The Ultimate Guide to yarn.lock Lockfiles</a></p><p></p><p></p><p></p>"}},"pageContext":{"id":"3663696e-f5d5-54f0-9f23-24b9a46640e9","title":"[Web Frontend] lock 파일이란 무엇인가?","contentHtml":"<h1><span>TL;DR;</span></h1><ul><li><span>프로젝트에서 사용되는 자바스크립트 패키지들의 버전과 의존성을 명시한 파일</span></li><li><span>협업을 할 때, 프로젝트의 패키지 버전의 충돌을 방지하고 일관성 있게 적용하기 위해 필요함</span></li><li><span>yarn 패키지 매니저 - </span><code><span>yarn.lock</span></code><span> </span></li><li><span>npm 패키지 매니저 - </span><code><span>package-lock.json</span></code></li></ul><p></p><h1><span>lock 파일(패키지 잠금 파일)이란?</span></h1><ul><li><span>프로젝트에 사용되는 모든 패키지의 버전과 의존성을 명시한 파일</span></li><li><span>npm - </span><code><span>package-lock.json</span></code></li><li><span>yarn - </span><code><span>yarn.lock</span></code></li></ul><h1><span>lock 파일의 의의</span></h1><ul><li><span>하나의 프로젝트를 여러 사람이 함께 작업할 때, 패키지의 버전을 일관성 있게 유지하기 위해 필요함</span></li><li><strong><span>기본적으로 package.json에 등록되어 있는 패키지를 설치하면, 패키지 매니저는 Semver 규칙에 따라 패키지 버전 범위 이내에 설치할 패키지 버전을 결정한다.</span></strong></li><li><span>예를 들어, A는 </span><code><span>a-pack@v1.3.2</span></code><span> 를, 이후에 입사한 B는 </span><code><span>a-pack@v1.4.0</span></code><span> 을 설치하여 사용한다면 패키지 버전이 서로 달라 이슈 대응이 어려워짐</span></li><li><span>lock 파일은 이러한 문제를 해결하는 데 도움이 된다.</span></li><li><span>추가적으로 무조건적인 패키지 업데이트를 방지함으로써 최신 패키지 버전에 내재된 보안 위험을 방지하는 효과도 있다.</span></li></ul><p></p><h2><span>exmaple) yarn.lock(Yarn 2+): React 설치</span></h2><p><a href=\"https://yarnpkg.com/blog/release/2.0#new-lockfile-format\"><span>https://yarnpkg.com/blog/release/2.0#new-lockfile-format</span></a></p><pre class=\"language-plain text\"><code class=\"language-plain text\"><span>\"react@npm:^18.2.0\":\n  version: 18.2.0\n  resolution: \"react@npm:18.2.0\"\n  dependencies:\n    loose-envify: ^1.1.0\n  checksum: 88e38092da8839b830cda6feef2e8505dec8ace60579e46aa5490fc3dc9bba0bd50336507dc166f43e3afc1c42939c09fe33b25fae889d6f402721dcd78fca1b\n  languageName: node\n  linkType: hard\n</span></code></pre><ul><li><strong><span>Yarn v1과 비교했을 때, 새로운 format으로 변경되었음을 확인할 수 있다.</span></strong></li><li><strong><span>Yarn v1 예시</span></strong><p><a href=\"https://classic.yarnpkg.com/lang/en/docs/yarn-lock/\"><span>https://classic.yarnpkg.com/lang/en/docs/yarn-lock/</span></a></p><pre class=\"language-plain text\"><code class=\"language-plain text\"><span># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n# yarn lockfile v1\n\n\n\"js-tokens@^3.0.0 || ^4.0.0\":\n  version \"4.0.0\"\n  resolved \"https://registry.yarnpkg.com/js-tokens/-/js-tokens-4.0.0.tgz#19203fb59991df98e3a287050d4647cdeaf32499\"\n  integrity sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\n\nloose-envify@^1.1.0:\n  version \"1.4.0\"\n  resolved \"https://registry.yarnpkg.com/loose-envify/-/loose-envify-1.4.0.tgz#71ee51fa7be4caec1a63839f7e682d8132d30caf\"\n  integrity sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\n  dependencies:\n    js-tokens \"^3.0.0 || ^4.0.0\"\n\nreact@^18.3.1:\n  version \"18.3.1\"\n  resolved \"https://registry.yarnpkg.com/react/-/react-18.3.1.tgz#49ab892009c53933625bd16b2533fc754cab2891\"\n  integrity sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\n  dependencies:\n    loose-envify \"^1.1.0\"\n</span></code></pre></li></ul><p></p><h2><span>example) package-lock.json: React 설치</span></h2><p><a href=\"https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json\"><span>https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json</span></a></p><pre class=\"language-json\"><code class=\"language-json\"><span data-right-bracket=\"true\">{\n  \"name\": \"package-lock\",\n  \"lockfileVersion\": 2,\n  \"requires\": true,\n  \"packages\": {\n    \"\": {\n      \"dependencies\": {\n        \"react\": \"^18.3.1\"\n      }\n    },\n    \"node_modules/js-tokens\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz\",\n      \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\"\n    },\n    \"node_modules/loose-envify\": {\n      \"version\": \"1.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz\",\n      \"integrity\": \"sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\",\n      \"dependencies\": {\n        \"js-tokens\": \"^3.0.0 || ^4.0.0\"\n      },\n      \"bin\": {\n        \"loose-envify\": \"cli.js\"\n      }\n    },\n    \"node_modules/react\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react/-/react-18.3.1.tgz\",\n      \"integrity\": \"sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\",\n      \"dependencies\": {\n        \"loose-envify\": \"^1.1.0\"\n      },\n      \"engines\": {\n        \"node\": \"=0.10.0\"\n      }\n    }\n  },\n  \"dependencies\": {\n    \"js-tokens\": {\n      \"version\": \"4.0.0\",\n      \"resolved\": \"https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz\",\n      \"integrity\": \"sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==\"\n    },\n    \"loose-envify\": {\n      \"version\": \"1.4.0\",\n      \"resolved\": \"https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz\",\n      \"integrity\": \"sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==\",\n      \"requires\": {\n        \"js-tokens\": \"^3.0.0 || ^4.0.0\"\n      }\n    },\n    \"react\": {\n      \"version\": \"18.3.1\",\n      \"resolved\": \"https://registry.npmjs.org/react/-/react-18.3.1.tgz\",\n      \"integrity\": \"sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==\",\n      \"requires\": {\n        \"loose-envify\": \"^1.1.0\"\n      }\n    }\n  }\n}\n</span></code></pre><h3><strong><span>주요 요소 설명</span></strong></h3><ul><li><code><strong><span>name</span></strong></code><strong><span>: 프로젝트의 이름.</span></strong></li><li><code><strong><span>version</span></strong></code><strong><span>: 프로젝트의 버전.</span></strong></li><li><code><strong><span>lockfileVersion</span></strong></code><strong><span>: </span></strong><code><strong><span>package-lock.json</span></strong></code><strong><span>의 버전.</span></strong></li><li><code><strong><span>requires</span></strong></code><strong><span>: 의존성이 필요한지 여부.</span></strong></li><li><code><strong><span>packages</span></strong></code><span>: package-lock.json version 2 </span><ul><li><span>npm 6에서 7로 업데이트 되면서 새로 만들어진 패키지 의존성 트리 표현 필드</span></li><li><strong><span>package-lock.json version 2부터 사용됨</span></strong></li></ul></li><li><code><strong><span>dependencies</span></strong></code><strong><span>: 설치된 패키지와 그 의존성의 상세 정보.(legacy)</span></strong><ul><li><span>npm 6까지 사용되던 패키지 의존성 트리 표현 필드</span></li><li><strong><span>package-lock.json version 1에서 사용됨</span></strong></li><li><code><strong><span>version</span></strong></code><strong><span>: 패키지 버전.</span></strong></li><li><code><strong><span>resolved</span></strong></code><strong><span>: 패키지가 다운로드된 URL.</span></strong></li><li><code><strong><span>integrity</span></strong></code><strong><span>: 패키지의 무결성을 확인하기 위한 해시.</span></strong></li><li><code><strong><span>dependencies</span></strong></code><strong><span>: 해당 패키지가 의존하는 다른 패키지들.</span></strong></li></ul></li></ul><p></p><p></p><h1><span>참고)</span></h1><p><a href=\"https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json\">package-lock.json | npm Docs</a></p><p><a href=\"https://classic.yarnpkg.com/lang/en/docs/yarn-lock/\">Yarn</a></p><p><a href=\"https://umanking.github.io/2022/05/05/yarn-lock/\">yarn.lock 파일(잠금파일)은 무엇이고 어떤 기능을 하는가?</a></p><p><a href=\"https://it-eldorado.tistory.com/187\">[JavaScript] package-lock.json 파헤치기 (npm 7 ~)</a></p><p><a href=\"https://www.arahansen.com/the-ultimate-guide-to-yarn-lock-lockfiles/\">The Ultimate Guide to yarn.lock Lockfiles</a></p><p></p><p></p><p></p>"}},"staticQueryHashes":["230163734","3589320610"],"slicesMap":{}}